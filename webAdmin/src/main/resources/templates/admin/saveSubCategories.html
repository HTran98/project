<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/admin/header :: head">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<div th:replace="/admin/header :: body"></div>

<!-- //header-ends -->
<!-- main content start-->
<div id="page-wrapper">
	<div class="main-page">
		<div class="forms">
			<h3 class="title1">SubCategories</h3>
			<div class="form-grids row widget-shadow"
				data-example-id="basic-forms">
				<div class="form-title">
					<h4 th:text="${action}"></h4>
				</div>
				<div class="form-body">
					<th:block th:if="${status == 1}">
						<form th:action="@{/adminPage/subcategories/addSubcategory}"
							method="POST" th:object="${subcategory}"
							enctype="multipart/form-data">
							<div class="form-group">
								<label for="exampleInputEmail1">Name</label> <input
									th:field="*{name}" type="text" class="form-control"
									id="exampleInputEmail1" placeholder="Subcategories Name"
									style="margin-left: 45px">
							</div>
							<div class="form-group">
								<label for="exampleInputEmail1">Category</label> <select
									th:field="*{category.id}"
									style="border: 1px solid #ccc; height: 40px; width: 160px; margin-left: 22px">

									<option th:each="category : ${listCategories}"
										th:text="${category.name}" th:value="${category.id}"></option>

								</select>
							</div>
							<div class="form-group">
								<label for="exampleInputFile">Thumbnail</label> <input
									th:field="*{multipartFiles}" type="file" name="fileUp0"
									id="fileUp0" /> <br /> <br /> <img id="reviewImage0"
									alt="review upload" style="width: 230px;">

							</div>

							<button type="submit" class="btn btn-default">Save</button>
						</form>
					</th:block>
					<th:block th:if="${status == 2}">
						<form th:action="@{/adminPage/subcategories/update}" th:object="${subcategory}" method="POST" enctype="multipart/form-data">
						<input hidden="true" th:field="*{id}"/>
							<div class="form-group">
								<label for="exampleInputEmail1">Name</label> <input
									th:field="*{name}" type="text" class="form-control"
									id="exampleInputEmail1" placeholder="Subcategories Name"
									style="margin-left: 45px">
							</div>
							<div class="form-group">
								<label for="exampleInputEmail1">Category</label> <select
									th:field="*{category.id}"
									style="border: 1px solid #ccc; height: 40px; width: 160px; margin-left: 22px">

									<option th:each="category : ${listCategories}"
										th:text="${category.name}" th:value="${category.id}"></option>

								</select>
							</div>
							<div class="form-group">
								<label for="exampleInputFile">Thumbnail</label> <input
									th:field="*{multipartFiles}" type="file" name="fileUp0"
									id="fileUp0" /> <br /> <br /> <img id="reviewImage0"
									alt="review upload" style="width: 230px;">

							</div>

							<button type="submit" class="btn btn-default">Save</button>
						</form>
					</th:block>
				</div>
			</div>

		</div>
	</div>
</div>
</div>
<!--footer-->
<div class="footer">
	<p>
		&copy; All Rights Reserved | Design by <a href="#" target="_blank"></a>
	</p>
</div>
<!--//footer-->
</div>
<!-- Classie -->
<script th:src="@{/admin/js/classie.js}"></script>
<script>
			var menuLeft = document.getElementById( 'cbp-spmenu-s1' ),
				showLeftPush = document.getElementById( 'showLeftPush' ),
				body = document.body;
				
			showLeftPush.onclick = function() {
				classie.toggle( this, 'active' );
				classie.toggle( body, 'cbp-spmenu-push-toright' );
				classie.toggle( menuLeft, 'cbp-spmenu-open' );
				disableOther( 'showLeftPush' );
			};
			
			function disableOther( button ) {
				if( button !== 'showLeftPush' ) {
					classie.toggle( showLeftPush, 'disabled' );
				}
			}
		</script>
<script type="text/javascript">
fileUp0.onchange = evt => {
	  const [file] = fileUp0.files
	  if (file) {
		  reviewImage0.src = URL.createObjectURL(file)
	  }
	}


</script>
<!--scrolling js-->
<script th:src="@{/admin/js/jquery.nicescroll.js}"></script>
<script th:src="@{/admin/js/scripts.js}"></script>
<!--//scrolling js-->
<!-- Bootstrap Core JavaScript -->
<script th:src="@{/admin/js/bootstrap.js}"> </script>
</body>
</html>